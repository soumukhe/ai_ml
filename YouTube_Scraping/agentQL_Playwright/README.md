# YouTube Channel Scraper

A Python script that uses AgentQL to scrape YouTube channel information and video data, and Grok to generate summaries of the scraped data.

## Summary of the Current Implementation:
- **AgentQL**: This is the primary library being used to construct queries and scrape data from the YouTube channel.
- **Playwright**: This library is used to control the browser and navigate to the YouTube channel page, allowing you to interact with the page and extract data.
- **Grok**: This library is integrated to provide AI-generated summaries of the scraped YouTube channel data.

## Features

- Scrapes channel name and subscriber count
- Extracts video information (titles, views, upload dates)
- Generates a summary of the channel data using Grok
- Clean JSON output format
- Interactive command-line interface
- Configurable through environment variables

## Prerequisites

- Python 3.7+
- AgentQL API key (get one from [AgentQL Developer Portal](https://docs.agentql.com))
- Grok API key (get one from [Grok API](https://x.ai))
- Chrome/Chromium browser

## Installation

1. Clone the repository or download the files.

2. Install required packages:
   ```bash
   pip install -r requirements.txt
   ```

3. Install Playwright browsers:
   ```bash
   playwright install
   ```

4. Create a `.env` file in the project root and add your API keys:
   ```plaintext
   AGENT_API_KEY=your_actual_agentql_api_key_here
   XAI_API_KEY=your_actual_grok_api_key_here
   ```

## Usage

1. Run the script:
   ```bash
   python main-agent.py
   ```

2. Enter a YouTube channel URL when prompted. For example:
   ```
   Enter YouTube channel URL (or 'quit' to exit): 
   > https://www.youtube.com/@DavidOndrej
   ```

3. The script will output channel information and video data in JSON format, along with a summary generated by Grok.

4. Type 'quit' to exit the program.

### Example Output

✅ Channel Information:
--------------------------------------------------
{
  "channel_info": {
    "title": "David Ondrej",
    "subscribers": "129K"
  },
  "videos": [
    {
      "title": "Sam Altman - The Man Who Owns Silicon Valley",
      "views": "1,231,995",
      "date": "1 year ago"
    },
    {
      "title": "Build Anything With ChatGPT, Here’s How",
      "views": "1,098,889",
      "date": "1 year ago"
    },
    {
      "title": "The Man OpenAI Fears The Most",
      "views": "385,788",
      "date": "1 year ago"
    }
  ]
}

📝 Summary:
Here's a summary of the YouTube channel data for "David Ondrej":

**Channel Information:**
- **Title:** David Ondrej
- **Subscribers:** 129,000

**Video Content Overview:**
- **Themes:** The channel primarily focuses on technology, AI, and entrepreneurial opportunities related to AI and software development. Videos often discuss how to leverage AI tools, create AI-based products, or capitalize on AI trends.

**Top Videos:**
1. **"Sam Altman - The Man Who Owns Silicon Valley"** - Most viewed with 1.2 million views, posted a year ago. Focuses on a key figure in the tech industry.
   
2. **"Build Anything With ChatGPT, Here’s How"** - Close second with 1 million views, also from a year ago, providing tutorials on using ChatGPT for various applications.

3. **Recent Trends:**
   - Videos from the past year show a trend towards AI tool usage, with titles like "Build Anything with AI Agents" and "Build Anything with Perplexity."
   - There's a noticeable shift towards more niche AI applications in the last few months, such as building with specific tools like Docker or discussing AI image creation for businesses.

**Viewership and Engagement:**
- **Most Viewed:** Videos about prominent tech personalities or widely applicable AI tools tend to get the highest views (over 1 million).
- **Recent Engagement:** Newer videos like "Build your own local o1 - here’s how" and "Code Anything with Claude AI, Here’s How" have lower but still significant viewership, indicating ongoing interest in AI-related content despite newer content having less time to accumulate views.

**Content Frequency and Recency:**
- The channel has been active with new content posted as recently as 2 hours ago, showing consistent engagement with the audience. However, there are some videos with titles represented only by a backslash ("\") which might indicate placeholder or unlisted videos.

**Miscellaneous:**
- There seems to be an educational and tutorial aspect to the channel, aiming to teach viewers how to utilize AI for various purposes, from coding to business opportunities. 
- The channel appears to adapt to the latest AI trends and tools, suggesting an effort to stay current in the rapidly evolving tech landscape.

Enter YouTube channel URL (or 'quit' to exit): 
> 

## Error Handling

- The script includes comprehensive error handling.
- If an error occurs, it will be displayed with details.
- Browser sessions are properly cleaned up even if errors occur.

## Dependencies

- agentql
- playwright
- python-dotenv
- openai

## License

MIT License

## Contributing

Feel free to submit issues and pull requests!